// styles/tokens/_colors.scss - UNIFIED Color System
// Single source of truth for all colors

// ============================================================================
// CORE BRAND COLORS
// ============================================================================
$brand-primary: #646cff;
$brand-secondary: #673ab8;
$brand-tertiary: #00bcd4;

// Functional colors
$color-error: #dc2626;
$color-success: #10b981;
$color-warning: #f59e0b;

// ============================================================================
// COLOR GENERATION FUNCTION
// ============================================================================
@function generate-tonal-palette($base-color) {
  @return (
    'base': $base-color,
    'light': mix(white, $base-color, 20%),
    'dark': mix(black, $base-color, 20%),
    'container': mix(white, $base-color, 88%),
    'on-container': mix(black, $base-color, 85%),
  );
}

// ============================================================================
// COLOR PALETTES
// ============================================================================
$palette-primary: generate-tonal-palette($brand-primary);
$palette-secondary: generate-tonal-palette($brand-secondary);
$palette-error: generate-tonal-palette($color-error);
$palette-success: generate-tonal-palette($color-success);

// Dark theme surfaces
$surface-dark: (
  'bg': #0f0f0f,
  'surface': #1a1a1a,
  'surface-variant': #2d2d2d,
  'outline': #4a4a4a,
  'outline-variant': #8b8b8b,
);

// Light theme surfaces
$surface-light: (
  'bg': #fafafa,
  'surface': #ffffff,
  'surface-variant': #f5f5f5,
  'outline': #c7c7c7,
  'outline-variant': #e0e0e0,
);

// Dark theme text
$text-dark: (
  'primary': rgba(255, 255, 255, 0.95),
  'secondary': rgba(255, 255, 255, 0.70),
  'tertiary': rgba(255, 255, 255, 0.50),
);

// Light theme text
$text-light: (
  'primary': rgba(0, 0, 0, 0.87),
  'secondary': rgba(0, 0, 0, 0.60),
  'tertiary': rgba(0, 0, 0, 0.38),
);

// ============================================================================
// GENERATE CSS CUSTOM PROPERTIES
// ============================================================================
:root {
  // Primary palette
  --color-primary: #{map-get($palette-primary, 'base')};
  --color-primary-light: #{map-get($palette-primary, 'light')};
  --color-primary-dark: #{map-get($palette-primary, 'dark')};
  --color-primary-container: #{map-get($palette-primary, 'container')};
  --color-on-primary-container: #{map-get($palette-primary, 'on-container')};
  --color-on-primary: #ffffff;

  // Secondary palette
  --color-secondary: #{map-get($palette-secondary, 'base')};
  --color-secondary-container: #{map-get($palette-secondary, 'container')};
  --color-on-secondary: #ffffff;

  // Error palette
  --color-error: #{map-get($palette-error, 'base')};
  --color-error-container: #{map-get($palette-error, 'container')};
  --color-on-error: #ffffff;

  // Success palette
  --color-success: #{map-get($palette-success, 'base')};
  --color-success-container: #{map-get($palette-success, 'container')};
  --color-on-success: #ffffff;

  // Dark theme (default)
  --color-bg: #{map-get($surface-dark, 'bg')};
  --color-surface: #{map-get($surface-dark, 'surface')};
  --color-surface-variant: #{map-get($surface-dark, 'surface-variant')};
  --color-outline: #{map-get($surface-dark, 'outline')};
  --color-outline-variant: #{map-get($surface-dark, 'outline-variant')};

  --color-text-primary: #{map-get($text-dark, 'primary')};
  --color-text-secondary: #{map-get($text-dark, 'secondary')};
  --color-text-tertiary: #{map-get($text-dark, 'tertiary')};
}

// Light theme override
@media (prefers-color-scheme: light) {
  :root {
    --color-bg: #{map-get($surface-light, 'bg')};
    --color-surface: #{map-get($surface-light, 'surface')};
    --color-surface-variant: #{map-get($surface-light, 'surface-variant')};
    --color-outline: #{map-get($surface-light, 'outline')};
    --color-outline-variant: #{map-get($surface-light, 'outline-variant')};

    --color-text-primary: #{map-get($text-light, 'primary')};
    --color-text-secondary: #{map-get($text-light, 'secondary')};
    --color-text-tertiary: #{map-get($text-light, 'tertiary')};
  }
}

// ============================================================================
// LEGACY ALIASES (for backwards compatibility)
// ============================================================================
:root {
  // Map new system to old naming
  --app-color-primary: var(--color-primary);
  --app-color-primary-hover: var(--color-primary-dark);
  --app-color-secondary: var(--color-secondary);
  --app-color-background: var(--color-bg);
  --app-color-surface: var(--color-surface);
  --app-color-surface-variant: var(--color-surface-variant);
  --app-color-surface-dark: var(--color-surface-variant);
  --app-color-text: var(--color-text-secondary);
  --app-color-text-primary: var(--color-text-primary);
  --app-color-text-secondary: var(--color-text-secondary);
  --app-color-outline: var(--color-outline);
  --app-color-outline-variant: var(--color-outline-variant);
  --app-color-border: var(--color-outline-variant);
  --app-color-border-focus: var(--color-primary);
  --app-color-error: var(--color-error);
  --app-color-primary-container: var(--color-primary-container);
  --app-color-error-container: var(--color-error-container);
  --app-color-on-primary-container: var(--color-on-primary-container);
}
